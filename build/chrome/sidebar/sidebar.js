var n={name:"Google Chrome",slug:"chrome",scriptVariableMap:{BROWSER:"chrome",MESSENGER:"extension"},manifestMap:{"background.persistent":!1,incognito:"not_allowed",offline_enabled:!1,version_name:"0.1.1",version:"0.1.1"},version:"0.1.1"},e="chrome",t="firefox",o="edge",i="safari",r="https://dissenter.com/discussion/begin-extension?url=",s=function(e){return!u(e)&&!c(e)&&(null!==e&&"object"==typeof e)},a=function(e){return"string"==typeof e||e instanceof String},c=function(e){return!a(e)&&!u(e)&&null!=e&&null!=e&&(e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e))},u=function(e){return Array.isArray(e)},l={activeTab:null,panelTab:null},d=function(){document.body,document.getElementById("sidebar");var o=document.getElementById("sidebar-iframe");function a(e,t){console.log("sidebar opened"),t,setTimeout(function(){var e=encodeURIComponent(t),n=r+e;o.setAttribute("src",n),o.classList.remove("hidden")},250)}this.init=function(){if(n.slug===i){var e=safari.application.activeBrowserWindow.activeTab;s(e)||(e={});e.title;a(0,e.url||"")}else chrome.tabs.query({active:!0,currentWindow:!0},function(e){if(!e)return!1;var n,t=e[0]||{},o=(t.title,t.url||"");function i(e){console.log("Message from the background script:"+e)}function r(e){console.log("Error: "+e)}l.panelTab=t.id,l.activeTab=t.id,n=l.panelTab,console.log("this is what im sending:",n),chrome.runtime.sendMessage({parentPanel:n}).then(i,r),a(0,o)})}};function f(e){setTimeout(function(){(new d).init()},2e3),chrome.tabs.query({lastFocusedWindow:!0,active:!0},function(e){l.activeTab=e[0].id;var n,t=e[0].id;function o(e){console.log("Message from the background script:"+e)}function i(e){console.log("Error: "+e)}n=t,chrome.runtime.sendMessage({parentSuspect:n}).then(o,i)})}function m(){setTimeout(function(){(new d).init()},2e3)}document.addEventListener("DOMContentLoaded",function(){(new d).init()}),chrome.tabs.onActivated.addListener(f),chrome.tabs.onUpdated.addListener(m);
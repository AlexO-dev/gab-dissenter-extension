var t={name:"Mozilla Firefox",slug:"firefox",scriptVariableMap:{BROWSER:"browser",MESSENGER:"runtime"},manifestMap:{version:"0.1.0"},version:"0.1.0"},e="chrome",n="firefox",i="edge",o="safari",u="https://dissenter.com/discussion/begin-extension?url=",a=function(e){return!s(e)&&!c(e)&&(null!==e&&"object"==typeof e)},r=function(e){return"string"==typeof e||e instanceof String},c=function(e){return!r(e)&&!s(e)&&null!=e&&null!=e&&(e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e))},s=function(e){return Array.isArray(e)},l={activeTab:null,panelTab:null},d={current:null},f=function(){document.body,document.getElementById("sidebar");var i=document.getElementById("sidebar-iframe");function r(e,n){n,setTimeout(function(){var e=encodeURIComponent(n),t=u+e;i.setAttribute("src",t),i.classList.remove("hidden")},250)}this.init=function(){if(t.slug===o){var e=safari.application.activeBrowserWindow.activeTab;a(e)||(e={});e.title;r(0,e.url||"")}else browser.tabs.query({active:!0,currentWindow:!0},function(e){if(!e)return!1;var t=e[0]||{},n=(t.title,t.url||"");l.panelTab=t.id,l.activeTab=t.id,r(0,n)})}};function b(){null!==d.current&&clearTimeout(d.current),setTimeout(function(){d.current=null,(new f).init()},5e3),browser.tabs.query({lastFocusedWindow:!0,active:!0},function(e){l.activeTab=e[0].id})}function m(){null!==d.current&&clearTimeout(d.current),setTimeout(function(){d.current=null,(new f).init()},2e3)}document.addEventListener("DOMContentLoaded",function(){(new f).init()}),browser.tabs.onActivated.addListener(b),browser.tabs.onUpdated.addListener(m);
/* Automatically generated file. Do not edit directly.
Copyright (C) 2019 Gab AI, Inc.
All Rights Reserved */
var BROWSER_CONFIG={name:"Mozilla Firefox",slug:"firefox",version:"0.1.3"},BROWSER_CHROME_SLUG="chrome",BROWSER_FIREFOX_SLUG="firefox",BROWSER_EDGE_SLUG="edge",BROWSER_SAFARI_SLUG="safari",BASE_URI="https://dissenter.com/discussion/begin-extension?url=",BACKGROUND_ACTION_OPEN_POPUP="open_popup",BACKGROUND_ACTION_GET_KEY="get_key",BACKGROUND_ACTION_SET_KEY="set_key",COLOR_GAB_GREEN="#21cf7b",STORAGE_BASE="gab_dissenter_extension_data",TWITTER_BUTTONS_ENABLED="twitter_buttons_enabled",REDDIT_BUTTONS_ENABLED="reddit_buttons_enabled",YOUTUBE_BUTTONS_ENABLED="youtube_buttons_enabled",WINDOW_SIDEBAR_UNAVAILABLE_ENABLED="window_sidebar_unavailable_enabled",STORAGE_DEFAULT_PARAMS={};STORAGE_DEFAULT_PARAMS[TWITTER_BUTTONS_ENABLED]=!0,STORAGE_DEFAULT_PARAMS[REDDIT_BUTTONS_ENABLED]=!0,STORAGE_DEFAULT_PARAMS[YOUTUBE_BUTTONS_ENABLED]=!0,STORAGE_DEFAULT_PARAMS[WINDOW_SIDEBAR_UNAVAILABLE_ENABLED]=!0;var STORAGE_KEY_ALL="all",isObject=function(e){return!isArray(e)&&!isDate(e)&&(null!==e&&"object"==typeof e)},isString=function(e){return"string"==typeof e||e instanceof String},isDate=function(e){return!isString(e)&&!isArray(e)&&null!=e&&null!=e&&(e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e))},isArray=function(e){return Array.isArray(e)};function ready(e){var t=document;"loading"==t.readyState?t.addEventListener("DOMContentLoaded",e):e()}function getQueryStringValue(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function GDEStorage(){var e=this;function r(){return null!=window.localStorage&&(window.localStorage[STORAGE_BASE]||isObject(window.localStorage[STORAGE_BASE])||(window.localStorage[STORAGE_BASE]=JSON.stringify(STORAGE_DEFAULT_PARAMS)),!0)}e.init=function(){return r(),!0},e.getValue=function(e){r();var t=window.localStorage[STORAGE_BASE];return t=JSON.parse(t),e===STORAGE_KEY_ALL?t:t[e]},e.setValue=function(e,t){r();var n=window.localStorage[STORAGE_BASE];return(n=JSON.parse(n))[e]=t,window.localStorage[STORAGE_BASE]=JSON.stringify(n),!0},e.logout=function(){return null!=window.localStorage&&(e.setValue(STORAGE_KEY_LOGGED_IN,!1),!0)}}browser.browserAction.onClicked.addListener(function(){browser.tabs.create({url:"index.html"})}),browser.runtime.onMessage.addListener(function(e,t,n){var r=e.action||"";if(r===BACKGROUND_ACTION_OPEN_POPUP){var o=e.url||"",_=e.height||0,i=screen.width,E=screen.height-_,A=browser.extension.getURL("popup/popup.html?url="+o),a=gdes.getValue(WINDOW_SIDEBAR_UNAVAILABLE_ENABLED);if(BROWSER_CONFIG.slug===BROWSER_FIREFOX_SLUG&&!a)return browser.runtime.sendMessage({url:o}),!0;browser.windows.create({url:A,width:420,height:_,top:E,left:i,type:"popup"})}else if(r===BACKGROUND_ACTION_GET_KEY){if(!(s=e.key||""))return n&&n(null),!0;var S=gdes.getValue(s);n&&n(S)}else if(r===BACKGROUND_ACTION_SET_KEY){var s=e.key||"";S=e.value||"";if(!s)return!0;gdes.setValue(s,S)}return!0});var gdes=new GDEStorage;gdes.init();
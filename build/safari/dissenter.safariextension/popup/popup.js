/* Automatically generated file. Do not edit directly.
Copyright (C) 2019 Gab AI, Inc.
All Rights Reserved */
var n={name:"Apple Safari",slug:"safari",version:"0.1.1"},e="chrome",t="firefox",i="edge",a="safari",u="https://dissenter.com/discussion/begin-extension?url=",s=function(n){return!c(n)&&!o(n)&&(null!==n&&"object"==typeof n)},r=function(n){return"string"==typeof n||n instanceof String},o=function(n){return!r(n)&&!c(n)&&null!=n&&null!=n&&(n&&"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n))},c=function(n){return Array.isArray(n)},f=function(){var t=this,r=document.getElementById("popup-iframe"),o="";t.onPopupOpen=function(n){if(!s(n))return!1;n.title;var e=n.url||"";if(o===e)return!1;o=e;var t=encodeURIComponent(e),i=u+t;setTimeout(function(){r.setAttribute("src",i),r.classList.remove("hidden")},250)},t.init=function(){if(n.slug===a){var e=safari.application.activeBrowserWindow.activeTab;t.onPopupOpen(e),safari.application.addEventListener("popover",function(n){o!==e.url&&safari.extension.popovers[0].contentWindow.location.reload()},!0)}else browser.tabs.query({active:!0,currentWindow:!0},function(n){if(!n||!c(n))return!1;var e=n[0];t.onPopupOpen(e)})}};if(n.slug===a){var p=new f;p.init()}else document.addEventListener("DOMContentLoaded",function(){(new f).init()});